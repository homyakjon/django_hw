{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}"/>
</head>
<body>
    <h2 id="blog-title">My blog:</h2>

    <h1>Articles</h1>
    {% for article in articles %}
        <div>
            <h2>{{ article.title }}</h2>
            <p>{{ article.content }}</p>
            <p>Author: {{ article.author.username }}</p>
            <p>Likes: {{ article.likes }}</p>
            <p>Dislikes: {{ article.dislikes }}</p>
        </div>
        <hr>
    {% endfor %}

    <h1>Comments</h1>
{% for comment in comments %}
    <div>
        <p>{{ comment.content }}</p>
        <p>Author: {{ comment.author.username }}</p>
        <p>Likes: {{ comment.likes }}</p>
        <p>Dislikes: {{ comment.dislikes }}</p>

        {% if comment.replies.all %}
            <ul>
                {% for reply in comment.replies.all %}
                    <li>{{ reply.content }} - {{ reply.author.username }}</li>
                {% endfor %}
            </ul>
        {% endif %}

        <form method="post" action="{% url 'add_reply' comment.id %}">
            {% csrf_token %}
            <textarea name="content"></textarea>
            <input type="submit" value="Reply">
        </form>
    </div>
    <hr>
{% endfor %}


